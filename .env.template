# DeepSeek-OCR API 服务配置模板
# 复制此文件为 .env 并根据实际情况修改配置值

# =============================================================================
# API 服务配置
# =============================================================================
API_HOST=0.0.0.0          # 监听地址（0.0.0.0 表示所有网卡）
API_PORT=8080             # 监听端口（平台自定义服务需使用 8080）

# =============================================================================
# 模型配置
# =============================================================================
MODEL_PATH=/hy-tmp/deepseek-ocr-model/  # 模型路径（本地路径或HuggingFace模型ID）
GPU_MEMORY_UTILIZATION=0.75             # GPU 内存利用率（0.5-0.9，根据显存调整）
MAX_MODEL_LEN=8192                      # 最大 token 长度
TRUST_REMOTE_CODE=true                  # 是否信任远程代码

# =============================================================================
# API Keys 配置
# =============================================================================
# 单个 API Key
DEEPSEEK_OCR_API_KEYS=1228

# 多个 API Key（逗号分隔）
# DEEPSEEK_OCR_API_KEYS=dso_key1,dso_key2,dso_key3

# =============================================================================
# OSS 域名白名单配置
# =============================================================================
# 支持通配符（.example.com 匹配所有子域名）
ALLOWED_OSS_DOMAINS=.oss-cn-wuhan-lr.aliyuncs.com,suxiaomin-tuil.oss-cn-wuhan-lr.aliyuncs.com

# =============================================================================
# 图片配置
# =============================================================================
MAX_IMAGE_SIZE_MB=50         # 最大图片大小（MB）
IMAGE_DOWNLOAD_TIMEOUT=30    # 图片下载超时时间（秒）

# =============================================================================
# 任务队列配置
# =============================================================================
MAX_TASKS_IN_MEMORY=1000    # 内存中最大任务数
TASK_TTL_SECONDS=3600       # 任务生存时间（秒，默认1小时）

# =============================================================================
# 日志配置
# =============================================================================
LOG_LEVEL=INFO              # 日志级别（DEBUG/INFO/WARNING/ERROR）
LOG_FILE=api_service.log    # 日志文件路径

# =============================================================================
# CUDA 配置（可选，一般不需要修改）
# =============================================================================
# CUDA_VISIBLE_DEVICES=0     # 指定使用的 GPU（多卡环境）
